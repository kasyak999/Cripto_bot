# Скрипт для биржи
Бот который будет осуществлять ребаланс выбранных монет 

1. При первом запуске скрипта производится покупка выбранной монеты.
В базе данных фиксируются:

    - цена покупки (начальная стоимость),
    - объём монеты,
    - потраченная сумма в USDT.

2. После покупки скрипт продолжает отслеживать цену монеты.

    - Каждое снижение цены на 5% от последней покупки приводит к докупке монеты на 5% от текущего остатка в USDT, выделенного на эту монету.
    - Эти точки фиксируются в виде красных точек на графике.

3. Если цена монеты вырастает на 5% выше начальной цены, скрипт:

    - продаёт весь объём монеты,
    - фиксирует прибыль или убыток,
    - прекращает дальнейшую работу с этой монетой.

4. После продажи монета остаётся в базе данных:

    - сохраняется информация о всех сделках,
    - фиксируется общая сумма потраченных средств (USDT),
    - можно оценить, была ли сделка прибыльной.

![График](info.png)

Расчеты [в exel](/calculations.xlsx)

### Установка
1. Создать виртуальное окружение
    ```
    python -m venv venv
    source venv/bin/activate
    ```
2. Установить зависимости
    ```
    pip install -r requirements.txt
    ```
3. Заупуск
    ```
    python main.py -h
    ```
### Файл .env
```
API_KEY=публичный_ключ
API_SECRET=секретный_ключ

DEMO_API_KEY=публичный_ключ_демо_режима (не обязательно)
DEMO_API_SECRET=секретный_ключ_демо_режима (не обязательно)

COMPOSE_PROJECT_NAME=crypto
```

### Софт
1. python 3.13
2. DBeaver Community

### Управление
Установка
```
docker compose up --build 
```

Настройка бота 
```
docker compose exec bot bash
```

Запуск 
```
docker compose exec -d bot python main.py -s
```

Посмотреть запущеные скрипты
```
docker compose exec bot ps aux
```

Остановить бота
```
docker compose exec bot kill <номер>
```